<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>화살날리기</title>
    <script>
        /*
        Javascript의 정식명칭=ECMAsxript=ES2015
        2015년에 발표된 js는 클래스를 지원하기 시작 let..

        Class란?
        -사물 자체가 아니라 사물을 생성해낼 수 있는 틀
        -새로운 기술이 아니라, 현실을 반영하는 방법에 변화

        정의하는 방법
        :   하나의 사물에 해당하는 코드들에 대해 {}로 감싸고, 이름을 붙인다
            이때 클래스의 이름은 사물의 명칭으로 한다 
            해당 명칭은 반드시 대문자로 시작한다 (관습적 원칙)

        클래스로 대표되는 객체지향언어는 신 기술이 아니라, 
        기존의 절차지향 프로그래밍 언어로 현실을 반영함에 있어 한계가 있기 때문에
        절차지향 언어에서의 변수, 함수를 하나로 묶은 단위로 현실을 표현함

        객체지향이란 객체 중심의 프로그래밍 언어
        */

        let arr; //생성된 화살의 인스턴스를 보관하는 전역변수

        //틀 Class
        class Arrow {
            //0)
            //☆클래스가 보유한 변수들을 가리켜 멤버변수라고 한다

            //java, c# 등과 같은 객체지향언어에서는 멤버변수를 클래스 안에 두기만하면되지만
            //js는 완벽한 객체지향 언어가 아닌 스크립트 언어이기에
            //멤버변수는 반드시 constructor()라 불리는 메서드 안에 두어야 한다
            //메서드란? 기존의 함수가 클래스 안에 선언될 때 이 함수를 특히나 메서드라 한다
            constructor() { //생성자 메서드..
                this.div; //함수들 간 공유하기 위해 전역변수화
                this.x = 0; //화살표의 x축 위치, 숫자이기때문에 0으로 초기화해야함(원칙)
                console.log("new연산자로 constructor() 호출함");
                
                this.createArrow(); //나의 createArrow() 호출
            }

            //1)
            //div를 동적으로 생성해서 화살표 문자를 넣고 동적으로 body에 부착 후 날리기
            //(0.100)
            createArrow() {

                this.div = document.createElement("div");
                this.div.innerText = "→";
                this.div.style.position = "absolute";
                this.div.style.width = 30 + "px";
                this.div.style.height = 30 + "px";
                this.div.style.color = "red";
                this.div.style.left = 0 + "px";
                this.div.style.top = 100 + "px";

                document.body.appendChild(this.div);

            }

            //2)
            //화살 움직이는 함수
            move() {
                this.x = this.x + 5;
                this.div.style.left = this.x + "px";
            }
        }

        //0)
        function init() {
            //위에서 정의한 Arrow라는 이름을 갖는 거푸집(틀)에 쇳물을부어 화살을 생성하자
            //new 거푸집틀이름();
            arr=new Arrow(); //틀이 보유한 constructor() 생성자 호출해야함
                                            //arrow라는 이름의 클래스의 컨스트럭터를 호출
            arr.move();
        }

        //0)
        addEventListener("load", function () {
            init();

            //setInterval("move()", 50);
        });
    </script>
</head>

<body>

</body>

</html>